"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,c=[],p=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;p=!1}else for(;!(p=(o=i.call(n)).done)&&(c.push(o.value),c.length!==e);p=!0);}catch(t){s=!0,r=t}finally{try{if(!p&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var $$=document,random=parseInt(1e8*Math.random()),IP={get:function(t,e){return fetch(t,{method:"GET"}).then(function(t){return"text"===e?Promise.all([t.ok,t.status,t.text(),t.headers]):Promise.all([t.ok,t.status,t.json(),t.headers])}).then(function(t){var t=_slicedToArray(t,4),e=t[0],n=t[1],o=t[2],t=t[3];if(e)return{ok:e,status:n,data:o,headers:t};throw new Error(JSON.stringify(json.error))}).catch(function(t){throw t})},getJsonp:function(t){var e=document.createElement("script");e.src=t,document.head.appendChild(e)},parseIPMoeip:function(t,e){IP.get("https://ip.mcr.moe/?ip=".concat(t,"&unicode&z=").concat(random),"json").then(function(t){$$.getElementById(e).innerHTML="".concat(t.data.country," ").concat(t.data.area," ").concat(t.data.provider)})},parseIPIpapi:function(t,e){IP.get("https://ipapi.co/".concat(t,"/json?z=").concat(random),"json").then(function(t){$$.getElementById(e).innerHTML="".concat(t.data.country_name," ").concat(t.data.city," ").concat(t.data.org)})},getWebrtcIP:function(){window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;function n(){}var o=new RTCPeerConnection({iceServers:[]});o.createDataChannel(""),o.createOffer(o.setLocalDescription.bind(o),n),o.onicecandidate=function(t){try{var e;t&&t.candidate&&t.candidate.candidate?(e=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(t.candidate.candidate)[1],$$.getElementById("ip-webrtc").innerHTML=e,o.onicecandidate=n,$$.getElementById("ip-webrtc-geo").innerHTML="WebRTC Leaked IP"):$$.getElementById("ip-webrtc").innerHTML="N/A"}catch(t){$$.getElementById("ip-webrtc").innerHTML="N/A"}}},getIpipnetIP:function(){IP.get("https://myip.ipip.net/?z=".concat(random),"text").then(function(t){t=t.data.replace("当前 IP：","").split(" 来自于：");$$.getElementById("ip-ipipnet").innerHTML='<p id="ip-ipipnet">'.concat(t[0],'</p><p class="sk-text-small" id="ip-ipipnet-geo">').concat(t[1],"</p>")})},getIpipnetIPSimple:function(){IP.get("https://myip.ipip.net/?z=".concat(random),"text").then(function(t){t=t.data.replace("当前 IP：","").split(" 来自于：");$$.getElementById("ip-ipipnet").innerHTML="".concat(t[0]," ").concat(t[1])})},getSohuIP:function(){var t=document.createElement("script");t.src="https://pv.sohu.com/cityjson?ie=utf-8",t.onload=function(){"undefined"==typeof returnCitySN?console.log("Failed to load resource: pv.sohu.com"):($$.getElementById("ip-sohu").innerHTML=returnCitySN.cip,IP.parseIPMoeip(returnCitySN.cip,"ip-sohu-geo"))},document.head.appendChild(t)},getIpsbIP:function(){IP.get("https://api.ip.sb/geoip?z=".concat(random),"json").then(function(t){$$.getElementById("ip-ipsb").innerHTML=t.data.ip,$$.getElementById("ip-ipsb-geo").innerHTML="".concat(t.data.country," ").concat(t.data.city," ").concat(t.data.organization)})},getIpifyIP:function(){IP.get("https://api.ipify.org/?format=json&z=".concat(random),"json").then(function(t){return $$.getElementById("ip-ipify").innerHTML=t.data.ip,t.data.ip}).then(function(t){IP.parseIPIpapi(t,"ip-ipify-geo")}).catch(function(t){console.log("Failed to load resource: api.ipify.org")})},getIpapiIP:function(){IP.get("https://ipapi.co/json?z=".concat(random),"json").then(function(t){$$.getElementById("ip-ipapi").innerHTML=t.data.ip,IP.parseIPIpapi(t.data.ip,"ip-ipapi-geo")}).catch(function(t){console.log("Failed to load resource: ipapi.co")})}},HTTP={checker:function(t,e){var n=new Image,o=setTimeout(function(){n.onerror=n.onload=null,n.src="",$$.getElementById(e).innerHTML='<span class="sk-text-error">连接超时</span>'},6e3);n.onerror=function(){clearTimeout(o),$$.getElementById(e).innerHTML='<span class="sk-text-error">无法访问</span>'},n.onload=function(){clearTimeout(o),$$.getElementById(e).innerHTML='<span class="sk-text-success">连接正常</span>'},n.src="https://".concat(t,"/favicon.ico?").concat(+new Date)},runcheck:function(){HTTP.checker("www.baidu.com","http-baidu"),HTTP.checker("s1.music.126.net/style","http-163"),HTTP.checker("github.com","http-github"),HTTP.checker("www.youtube.com","http-youtube")}};